{% extends 'manager/basic_manager.html'%}
    
{% block title %}Create DT{% endblock %}

{% block body %} 

    <div class="container mt-3 shadow-lg p-4" style="width: 35%;">
      <h2 class="text-center"> DT User SignUp</h2>
      <form action="{% url 'ManagerHome' %}" method="POST" id="myForm" style="align-items: center;"> {% csrf_token %}
        <div class="mb-2">
          <label for="exampleInputName1" class="form-label">User Name</label>
          <input type="text" class="form-control" id="exampleInputName1" name="uusername" autocomplete="off">
        </div>
        <div class="mb-2">
          <label for="exampleInputEmail1" class="form-label">Email address</label>
          <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" name="uemail" autocomplete="off">
        </div>
        <div class="mb-2">
          <label for="exampleInputPassword1" class="form-label">Password</label>
          <input type="password" class="form-control" id="exampleInputPassword1" name="upassword" autocomplete="off">
        </div>
        <div class="mb-2">
          <label for="exampleInputPassword2" class="form-label">Confirm Password</label>
          <input type="password" class="form-control" id="exampleInputPassword2" name="ucpassword" autocomplete="off
          ">
        </div>
        <div class="mb-2">
          <label for="exampleInputNumber2" class="form-label">Mobile Number</label>
          <input type="number" class="form-control" id="exampleInputNumber2" name="umobnum" autocomplete="off
          ">
        </div>
        
        <button style="margin-top: 20px;margin-left: 274px;" type="submit" class="btn btn-primary" id = "bxc"> Create </button>
        
      </form>
    </div>
    
{% endblock %}

{% block js %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("myForm");
  
      form.addEventListener("submit", function (e) {
          e.preventDefault(); // Prevent the form from submitting normally
          
          // Simulate a successful submission (you should replace this with your actual submission logic)
          setTimeout(function () {
              alert("Data recorded successfully!");
              window.closePopupAndRedirect();
          }, 2000); // 2000 milliseconds (2 seconds) for demonstration purposes
      });
  
      window.closePopupAndRedirect = function () {
          // Close the pop-up and redirect after 3 seconds
          setTimeout(function () {
              window.alert("Redirecting to Home Page...");
              window.location.href = "{% url 'ManagerHome' %}"; // Replace "/home" with your home page URL
          }, 3000); // 3000 milliseconds (3 seconds)
      };
  });
</script>
  {% endblock %}
  